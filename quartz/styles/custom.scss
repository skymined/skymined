@use "./base.scss";

/* Desktop: hide Explorer heading row and show tree immediately from root folders */
@media all and (min-width: 801px) {
  .explorer > .desktop-explorer {
    display: none !important;
  }

  .explorer.collapsed {
    flex: 0 1 auto !important;
  }

  .explorer > .explorer-content {
    margin-top: 0;
  }
}

/* Folder/list page title links: use white in dark mode instead of yellow accent */
:root[saved-theme="dark"] .page-listing .section .desc > h3 > a,
:root[saved-theme="dark"] li.section-li > .section > .desc > h3 > a {
  color: #f5f7ff !important;
}

:root[saved-theme="dark"] .page-listing .section .desc > h3 > a:hover,
:root[saved-theme="dark"] li.section-li > .section > .desc > h3 > a:hover {
  color: #ffffff !important;
}

/* Breadcrumbs: yellow */
.breadcrumb-container .breadcrumb-element > a {
  color: var(--secondary) !important;
}

.breadcrumb-container .breadcrumb-element > a:hover {
  color: #ffe08a !important;
}

.breadcrumb-container .breadcrumb-element > p {
  color: var(--secondary);
}

/* Explorer spacing */
.explorer-content .explorer-ul > li {
  margin: 0.3rem 0;
}

.explorer-content .folder-outer > ul > li {
  margin: 0.24rem 0;
}

.folder-container {
  padding: 0.08rem 0;
}

/* Explorer: nested folders/files use a noticeably darker yellow than root folders */
:root[saved-theme="dark"] .explorer-content .folder-outer .folder-container div > a,
:root[saved-theme="dark"] .explorer-content .folder-outer .folder-container div > button span {
  color: #9a7300 !important;
}

:root[saved-theme="dark"] .explorer-content .folder-outer .folder-container div > a:hover,
:root[saved-theme="dark"] .explorer-content .folder-outer .folder-container div > button:hover span {
  color: #c39400 !important;
}

/* Explorer: nested folder chevron + nested file links */
:root[saved-theme="dark"] .explorer-content .folder-outer .folder-icon {
  color: #9a7300 !important;
}

:root[saved-theme="dark"] .explorer-content .folder-outer ul li > a {
  color: #a37a00 !important;
  opacity: 0.95 !important;
}

:root[saved-theme="dark"] .explorer-content .folder-outer ul li > a:hover {
  color: #c39400 !important;
}

/* Explorer: nested tree connector line */
:root[saved-theme="dark"] .explorer-content .folder-outer > ul {
  border-left: 1px solid #6f5300 !important;
}

/* Desktop: make left Explorer flow with page height (no internal list scrollbar) */
@media all and (min-width: 801px) {
  .page > #quartz-body > .sidebar.left {
    position: static;
    height: auto;
    overflow: visible;
    align-self: start;
  }

  .page > #quartz-body > .sidebar.left .explorer {
    overflow: visible;
  }

  .page > #quartz-body > .sidebar.left .explorer-content {
    max-height: none !important;
    overflow: visible !important;
  }

  .page > #quartz-body > .sidebar.left .explorer-content:has(> .explorer-ul.overflow) {
    max-height: none !important;
    overflow-y: visible !important;
  }

  .page > #quartz-body > .sidebar.left .explorer-ul.overflow {
    max-height: none !important;
    overflow-y: visible !important;
    mask-image: none !important;
  }

  .page > #quartz-body > .sidebar.left div:has(> .overflow) {
    max-height: none;
    overflow: visible;
  }
}
